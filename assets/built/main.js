var body,numberOfPatterns,ghostSearch,menuMouse,searchButtonEl,searchModalEl,searchWrapperEl,searchInputEl,searchResultsEl,resultsEmptyEl,menuButtonEl;let dark,ext;var action,stripe;function index(){let e=document.querySelector(".carousel-container");if(e){let t=Math.ceil(Math.random()*numberOfPatterns);e.style.backgroundImage="url(/assets/images/patterns/"+t+ext}let t=document.querySelectorAll("a.no-image");if(t.length)for(let e of t){let t=Math.ceil(Math.random()*numberOfPatterns);e.style.backgroundImage="url(/assets/images/patterns/"+t+ext}}function carousel(){$(".carousel-bg-image.no-image");let e=document.querySelectorAll(".carousel-bg-image.no-image");if(e.length)for(let t of e){let e=Math.ceil(11*Math.random());t.style.backgroundImage="url(/assets/images/patterns/"+e+ext}$(".carousel").on("init",(function(e){setTimeout(function(){this.style.opacity="1"}.bind(e.target),200)})),$(".carousel").slick(slickConf)}function events(){hotkeys.filter=function(e){return!0},hotkeys("esc",(function(e,t){e.preventDefault(),body.classList.remove("menu-opened"),body.classList.remove("search-opened")}))}function buttons(){searchButtonEl.addEventListener("click",(function(){toggleSearch()})),searchWrapperEl.addEventListener("click",(function(e){e.stopPropagation()})),searchModalEl.addEventListener("click",(function(e){body.classList.remove("search-opened")}),!1),body.addEventListener("click",(function(){body.classList.contains("menu-opened")&&body.classList.remove("menu-opened")})),menuButtonEl.addEventListener("click",(function(e){e.stopPropagation(),toggle("menu-opened")}))}function search(){"undefined"!=typeof ghostsearch_key&&"undefined"!=typeof ghostsearch_url&&(searchButtonEl.style.display="inline-block",ghostSearch=new GhostSearch({input:"#search-input",trigger:"focus",results:"#results-container",key:ghostsearch_key,url:ghostsearch_url,template:function(e){return'<a href="'+[location.protocol,"//",location.host].join("")+"/"+e.slug+'/" class="search-item"><span class="search-item-name">'+e.title+"</span></a>"},on:{beforeDisplay:function(e){},afterDisplay:function(e){let t=document.getElementById("search-input"),n=document.getElementById("results-container");if(""!=t.value){searchWrapperEl.classList.add("with-text"),resultsEmptyEl.style.display="none";let e=searchResultsEl.lastElementChild;e&&changeSelectedMenu(e,!1,!0)}else searchWrapperEl.classList.remove("with-text"),resultsEmptyEl.style.display="block";if(0==e.total&&""!=t.value){let e=document.createElement("div");e.classList.add("search-item"),e.classList.add("no-results"),e.innerHTML="No results found",n.appendChild(e)}},beforeFetch:function(){},afterFetch:function(){}}}),hotkeys("alt+s",(function(e,t){e.preventDefault(),toggleSearch()})),hotkeys("enter",(function(e,t){let n=body.classList.contains("search-opened"),s=document.querySelector(".selected");n&&s&&s.click()})),hotkeys("backspace",(function(e,t){searchInputEl.focus()})),hotkeys("up,down",(function(e,t){let n=body.classList.contains("search-opened"),s=searchResultsEl.childNodes.length>0;if(n&&s){e.preventDefault(),searchInputEl.blur(),menuMouse=!1;let n=document.querySelector(".selected");switch(t.key){case"up":n?changeSelectedMenu(n,!1,!1):searchInputEl.focus();break;case"down":n?changeSelectedMenu(n,!1,!0):searchInputEl.focus()}}})),window.addEventListener("beforeunload",(function(){searchInputEl.value=""})))}$(document).ready((function(){body=document.body,numberOfPatterns=5,menuMouse=!0,searchButtonEl=document.querySelector(".site-search"),searchModalEl=document.querySelector(".search-modal"),searchWrapperEl=document.querySelector(".search-wrapper"),searchInputEl=document.getElementById("search-input"),searchResultsEl=document.getElementById("results-container"),resultsEmptyEl=document.querySelector(".results-empty"),menuButtonEl=document.querySelector(".site-menu"),action=getParameterByName("action"),stripe=getParameterByName("stripe"),dark=body.classList.contains("dark"),ext=dark?"d.png":".png",index(),events(),buttons(),carousel(),search()}));
//# sourceMappingURL=main.js.map